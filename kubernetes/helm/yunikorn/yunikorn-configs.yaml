apiVersion: v1
kind: ConfigMap
metadata:
  name: yunikorn-configs
  namespace: yunikorn
data:
#  admissionController.filtering.processNamespaces: "k8s-jobs"
  queues.yaml: |
    partitions:
      - name: default
        placementrules:
          - name: tag
            value: namespace
            create: true
        queues:
          - name: root
            submitacl: '*'
            queues:
              - name: k8s-jobs-dev
                submitacl: '*'
                maxapplications: 1
                resources:
                  guaranteed:
                    {memory: 10G, vcore: 2}
                  max:
                    {memory: 63G, vcore: 7}
                properties:
                  priority.policy: default
                  priority.offset: 0
                  application.sort.priority: enabled
                  application.sort.policy: fifo
              - name: k8s-jobs-prod
                submitacl: '*'
                maxapplications: 1
                resources:
                  guaranteed:
                    {memory: 53G, vcore: 5}
                  max:
                    {memory: 63G, vcore: 7}
                properties:
                  priority.policy: default
                  priority.offset: 0
                  application.sort.priority: enabled
                  application.sort.policy: fifo
